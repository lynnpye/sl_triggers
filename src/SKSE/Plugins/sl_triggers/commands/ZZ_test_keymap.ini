deb_msg "SLT Test Script: Begin"
util_getrealtime
set $9001 $$
deb_msg "Start realtime: " $9001
set $8000 0

if $8000 != 0 setdidfail
goto begintestpath
[setdidfail]
deb_msg "Set failed, $8000 should be 0 but it is not:"
deb_msg $8000
deb_msg ": going to done"
goto done


[begintestpath]
set $34 29

inc $34 1

if $34 = 30 incworked
deb_msg "FAILED: inc"
goto done




[incworked]
inc $8000 1




; test goto
goto gotoworked
deb_msg "FAILED: goto"
goto done ; hahahaha :)

[doactualtests]

; test set
set $1 40
set $2 40
; test if
if $1 = $2 setworked
deb_msg "FAILED: set or if"
goto done

[setworked]
inc $8000 1
set $2 50
if $1 < $2 ltworked
deb_msg "FAILED: lt"
goto done

[ltworked]
inc $8000 1
if $2 > $1 gtworked
deb_msg "FAILED: gt"
goto done

[gtworked]
inc $8000 1
if $1 != $2 neqworked
deb_msg "FAILED: neq"
goto done

[neqworked]
inc $8000 1
gosub set1to90
if $1 = 90 gosubworked
deb_msg "FAILED: gosub"
goto done

[gosubworked]
inc $8000 1
set $1 0
av_get $player Health
set $1 $$
if $1 != 0 avgetworked
deb_msg "FAILED: av_get"
goto done


[avgetworked]
inc $8000 1


util_getrealtime
set $5 $$
util_wait 5.5
util_getrealtime
set $6 $$ - $5

if $6 > 5.0 waitpassone
deb_msg "FAILED: util_wait/1 5.5 (" $6 ")"
goto done

[waitpassone]
if $6 < 6.0 waitworked
deb_msg "FAILED: util_wait/2 5.5 (" $6 ")"
goto done


[waitworked]
inc $8000 1



rnd_int 12 87
set $1 $$
if $1 > 11 rndgood1
deb_msg "FAILED: rnd_int/1 12 87 (" $1 ")"
goto done

[rndgood1]
if $1 < 88 rndintworked
deb_msg "FAILED: rnd_int/2 12 87 (" $1 ")"
goto done


[rndintworked]
inc $8000 1



rnd_list "one" "two"
set $1 $$

if $1 = "one" gotone
if $1 = "two" gottwo
deb_msg "FAILED: rnd_list 'one' 'two' (" $1 ")"
goto done

[gotone]
[gottwo]
inc $8000 1


























goto done

[gotoworked]
inc $8000 1
goto doactualtests

beginsub set1to90
    set $1 90
endsub

[done]
deb_msg "SLT Test Script: End"
util_getrealtime
set $9002 $$
deb_msg "Ending realtime: " $9002
set $9003 $9002 - $9001
deb_msg "Elapsed realtime: " + $9003
deb_msg "Passed " $8000 " tests."