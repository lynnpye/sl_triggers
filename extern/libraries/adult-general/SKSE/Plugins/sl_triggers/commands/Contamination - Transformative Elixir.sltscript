;;;;;;
;; spam prevention - no closer than 3 in-game hours per call
;; remove these lines if you want to call it more frequently
set $difftime $system.gametime - $global.last_transform_time
set $global.last_transform_time $system.gametime
; $difftime is in "game days", so 0.125 is 1/8 of a day or 3 hours
; if you still want the protection, you can still reduce this number
if $difftime < 0.125
	return
endif
;;;;;;

;;;;;;
;; 5% reset chance - 1 in 20 chance that you will get a reset potion and exit early
;; remove this block or change the odds below
set $chance resultfrom rnd_int 0 100

if $chance >= 95 ; 5% chance to reset
	item_adduse $system.player "TFEResetPotion" 1 1
	return
endif
;;;;;;

;;;;;;
;; comment unnecessary choices to improve performance
;; the reset potion, just documenting it, it isn't intended for the pool
;set	$tfeResetPotion	"TFEResetPotion"

; affixes (15)
set	$magnification	"Magnification"
set	$diminishing	"Diminishing"
set	$expansion		"Expansion"
set	$compacting		"Compacting"
set	$curves			"Curves"
set	$flattening		"Flattening"
set	$nippleIncrease	"NippleIncrease"
set	$nippleReduce	"NippleReduce"

set	$boob			"Boob"
set	$butt			"Butt"
set	$hips			"Hips"
set	$thighs			"Thighs"
set	$arms			"Arms"
set	$waist			"Waist"
set	$belly			"Belly"

; now arrange for your random selection
; if you want an even distribution, just include one instance of each affix you want in your pool, e.g.:
; set $selectedAffix resultfrom rnd_list $compacting $diminishing $expansion $magnification $boob $butt $hips $thighs $nippleIncrease $nippleReduce $arms $waist $belly $curves $flattening
; and of course you would not comment out any of the original affix definitions
;
; but perhaps you want to change up the weighting, exclude a few things, you might do this:
set $selectedAffix resultfrom rnd_list $curves $flattening $expansion $compacting $magnification $diminishing $boob $butt $butt $butt $butt $hips $hips $hips $thighs $thighs $thighs $thighs

set $desiredElixir $"TFE{selectedAffix}Potion"

item_adduse $system.player $desiredElixir 1 1

; variants include
; TFE<affix>Potion
; TFE<stat>StealthPotion<affix> 
;	where <stat> is one of: Health, Magicka, Stamina
; So for each of the 15 affixex you have 4 variants; so 60 total if you wanted all of them in a pool
; Plus the TFEResetPotion
